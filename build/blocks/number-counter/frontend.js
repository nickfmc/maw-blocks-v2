(()=>{class t{constructor(t){this.element=t,this.numberElement=t.querySelector(".maw-number-counter__number"),this.target=parseFloat(this.numberElement.dataset.target),this.duration=parseInt(t.dataset.duration)||2e3,this.animateOnce="true"===t.dataset.animateOnce,this.startDelay=parseInt(t.dataset.startDelay)||0,this.hasAnimated=!1,this.init()}init(){this.setupObserver()}setupObserver(){this.observer=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(this.hasAnimated&&this.animateOnce||setTimeout(()=>{this.animate()},this.startDelay))})},{root:null,rootMargin:"0px",threshold:.5}),this.observer.observe(this.element)}animate(){this.animateOnce&&(this.hasAnimated=!0);const t=this.target,e=performance.now(),n=r=>{const s=r-e,a=Math.min(s/this.duration,1),i=1-Math.pow(1-a,4),o=0+(t-0)*i,h=this.countDecimals(t),m=h>0?o.toFixed(h):Math.floor(o);this.numberElement.textContent=m,a<1?requestAnimationFrame(n):this.numberElement.textContent=this.formatFinalNumber(t)};requestAnimationFrame(n)}countDecimals(t){return Math.floor(t)===t?0:t.toString().split(".")[1]?.length||0}formatFinalNumber(t){const e=this.countDecimals(t);return e>0?t.toFixed(e):t.toString()}destroy(){this.observer&&this.observer.disconnect()}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll(".maw-number-counter"),n=[];e.forEach(e=>{n.push(new t(e))}),window.addEventListener("beforeunload",()=>{n.forEach(t=>t.destroy())})})})();