{"version":3,"file":"blocks/number-counter/frontend.js","mappings":"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","sources":["webpack://maw-blocks/./blocks/number-counter/frontend.js"],"sourcesContent":["/**\n * Number Counter Block Frontend JavaScript\n *\n * Handles animated counting from 0 to target number with viewport detection\n */\n\nclass NumberCounter {\n    constructor(element) {\n        this.element = element;\n        this.numberElement = element.querySelector('.maw-number-counter__number');\n        this.target = parseFloat(this.numberElement.dataset.target);\n        this.duration = parseInt(element.dataset.duration) || 2000;\n        this.animateOnce = element.dataset.animateOnce === 'true';\n        this.startDelay = parseInt(element.dataset.startDelay) || 0;\n        this.hasAnimated = false;\n\n        this.init();\n    }\n\n    init() {\n        this.setupObserver();\n    }\n\n    setupObserver() {\n        const options = {\n            root: null,\n            rootMargin: '0px',\n            threshold: 0.5\n        };\n\n        this.observer = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    if (!this.hasAnimated || !this.animateOnce) {\n                        setTimeout(() => {\n                            this.animate();\n                        }, this.startDelay);\n                    }\n                }\n            });\n        }, options);\n\n        this.observer.observe(this.element);\n    }\n\n    animate() {\n        if (this.animateOnce) {\n            this.hasAnimated = true;\n        }\n\n        const start = 0;\n        const end = this.target;\n        const startTime = performance.now();\n\n        const step = (currentTime) => {\n            const elapsed = currentTime - startTime;\n            const progress = Math.min(elapsed / this.duration, 1);\n\n            // Easing function for smooth animation\n            const easeOutQuart = 1 - Math.pow(1 - progress, 4);\n\n            const current = start + (end - start) * easeOutQuart;\n\n            // Format number to handle decimals\n            const decimals = this.countDecimals(end);\n            const formattedNumber = decimals > 0\n                ? current.toFixed(decimals)\n                : Math.floor(current);\n\n            this.numberElement.textContent = formattedNumber;\n\n            if (progress < 1) {\n                requestAnimationFrame(step);\n            } else {\n                this.numberElement.textContent = this.formatFinalNumber(end);\n            }\n        };\n\n        requestAnimationFrame(step);\n    }\n\n    countDecimals(value) {\n        if (Math.floor(value) === value) return 0;\n        return value.toString().split('.')[1]?.length || 0;\n    }\n\n    formatFinalNumber(num) {\n        const decimals = this.countDecimals(num);\n        return decimals > 0 ? num.toFixed(decimals) : num.toString();\n    }\n\n    destroy() {\n        if (this.observer) {\n            this.observer.disconnect();\n        }\n    }\n}\n\n// Initialize all number counters on page load\ndocument.addEventListener('DOMContentLoaded', () => {\n    const counters = document.querySelectorAll('.maw-number-counter');\n    const counterInstances = [];\n\n    counters.forEach(counter => {\n        counterInstances.push(new NumberCounter(counter));\n    });\n\n    // Cleanup on page unload\n    window.addEventListener('beforeunload', () => {\n        counterInstances.forEach(instance => instance.destroy());\n    });\n});\n"],"names":["NumberCounter","constructor","element","numberElement","querySelector","target","parseFloat","dataset","duration","parseInt","animateOnce","startDelay","hasAnimated","init","setupObserver","options","root","rootMargin","threshold","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","setTimeout","animate","observe","start","end","startTime","performance","now","step","currentTime","elapsed","progress","Math","min","easeOutQuart","pow","current","decimals","countDecimals","formattedNumber","toFixed","floor","textContent","requestAnimationFrame","formatFinalNumber","value","toString","split","length","num","destroy","disconnect","document","addEventListener","counters","querySelectorAll","counterInstances","counter","push","window","instance"],"sourceRoot":""}