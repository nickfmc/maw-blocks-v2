(()=>{"use strict";class t{constructor(){this.instances=[]}init(t){const i=new e(t);return this.instances.push(i),i}destroy(t){const e=this.instances.findIndex(e=>e.element===t);e>-1&&(this.instances[e].destroy(),this.instances.splice(e,1))}}class e{constructor(t){this.element=t,this.wrapper=t.querySelector(".maw-slider__wrapper, .maw-testimonial-slider__wrapper"),this.slides=null,this.currentIndex=0,this.autoplayTimer=null,this.isAnimating=!1,this.config={autoplay:"true"===t.getAttribute("data-autoplay"),autoplaySpeed:parseInt(t.getAttribute("data-autoplay-speed"))||3e3,loop:"true"===t.getAttribute("data-loop"),endBehavior:t.getAttribute("data-end-behavior")||"loop",speed:parseInt(t.getAttribute("data-speed"))||500,slidesPerView:parseInt(t.getAttribute("data-slides-per-view"))||1,slidesPerViewTablet:parseInt(t.getAttribute("data-slides-per-view-tablet"))||1,slidesPerViewMobile:parseInt(t.getAttribute("data-slides-per-view-mobile"))||1,spaceBetween:parseInt(t.getAttribute("data-space-between"))||20,effect:t.getAttribute("data-effect")||"slide"},this.init()}init(){this.wrapper?(this.slides=Array.from(this.wrapper.children),0!==this.slides.length&&(this.setupSlides(),this.setupNavigation(),this.setupDots(),this.updateSlidePositions(),this.config.autoplay&&this.startAutoplay(),this.setupEventListeners())):console.warn("MAW Blocks: Slider wrapper not found")}setupSlides(){this.slides.forEach(t=>{t.classList.add("maw-slider__slide")}),"fade"===this.config.effect&&this.slides[0].classList.add("is-active")}setupNavigation(){const t=this.element.querySelector(".maw-slider__arrow--prev, .maw-testimonial-slider__arrow--prev"),e=this.element.querySelector(".maw-slider__arrow--next, .maw-testimonial-slider__arrow--next");t&&t.addEventListener("click",()=>this.prev()),e&&e.addEventListener("click",()=>this.next()),this.updateNavigationState()}setupDots(){const t=this.element.querySelector(".maw-slider__dots, .maw-testimonial-slider__dots");t&&(t.innerHTML="",this.slides.forEach((e,i)=>{const s=document.createElement("span");s.className=0===i?"maw-slider__dot maw-slider__dot--active":"maw-slider__dot",s.addEventListener("click",()=>this.goTo(i)),t.appendChild(s)}))}updateSlidePositions(){if("fade"===this.config.effect)return;const t=100/this.config.slidesPerView,e=-this.currentIndex*t;this.wrapper.style.transform=`translateX(${e}%)`}updateDots(){this.element.querySelectorAll(".maw-slider__dot, .maw-testimonial-slider__dot").forEach((t,e)=>{e===this.currentIndex?t.classList.add("maw-slider__dot--active"):t.classList.remove("maw-slider__dot--active")})}updateNavigationState(){const t=this.element.querySelector(".maw-slider__arrow--prev, .maw-testimonial-slider__arrow--prev"),e=this.element.querySelector(".maw-slider__arrow--next, .maw-testimonial-slider__arrow--next");if(t&&e){const i=this.slides.length-this.config.slidesPerView;"disable"===this.config.endBehavior?(t.disabled=0===this.currentIndex,e.disabled=this.currentIndex>=i):(t.disabled=!1,e.disabled=!1)}}next(){if(this.isAnimating)return;const t=this.slides.length-this.config.slidesPerView;this.currentIndex<t?this.goTo(this.currentIndex+1):"loop"===this.config.endBehavior&&this.config.loop&&this.goTo(0)}prev(){this.isAnimating||(this.currentIndex>0?this.goTo(this.currentIndex-1):"loop"===this.config.endBehavior&&this.config.loop&&this.goTo(this.slides.length-this.config.slidesPerView))}goTo(t){if(this.isAnimating||t===this.currentIndex)return;this.isAnimating=!0;const e=this.currentIndex;this.currentIndex=Math.max(0,Math.min(t,this.slides.length-1)),"fade"===this.config.effect?(this.slides[e].classList.remove("is-active"),this.slides[this.currentIndex].classList.add("is-active")):this.updateSlidePositions(),this.updateDots(),this.updateNavigationState(),setTimeout(()=>{this.isAnimating=!1},this.config.speed),this.config.autoplay&&this.resetAutoplay()}startAutoplay(){this.autoplayTimer=setInterval(()=>{this.next()},this.config.autoplaySpeed)}stopAutoplay(){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null)}resetAutoplay(){this.stopAutoplay(),this.startAutoplay()}setupEventListeners(){this.element.addEventListener("mouseenter",()=>{this.config.autoplay&&this.stopAutoplay()}),this.element.addEventListener("mouseleave",()=>{this.config.autoplay&&this.startAutoplay()}),window.addEventListener("resize",()=>{this.updateSlidePositions()})}destroy(){this.stopAutoplay(),this.element=null,this.wrapper=null,this.slides=null}}new class{constructor(){this.sliderController=null,this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.onReady()):this.onReady()}onReady(){this.sliderController=new t,document.querySelectorAll(".maw-slider").forEach(t=>{this.sliderController.init(t)})}}})();