(()=>{"use strict";const t={chevron:{left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 18l-6-6 6-6"/></svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>'},arrow:{left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M5 12h14M12 5l7 7-7 7"/></svg>'},angle:{left:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 6l-6 6 6 6"/></svg>',right:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 6l6 6-6 6"/></svg>'}},e=t.arrow;class i{constructor(){this.instances=[]}init(t){const e=new s(t);return this.instances.push(e),e}destroy(t){const e=this.instances.findIndex(e=>e.element===t);e>-1&&(this.instances[e].destroy(),this.instances.splice(e,1))}}class s{constructor(t){this.element=t,this.wrapper=t.querySelector(".maw-slider__wrapper, .maw-testimonial-slider__wrapper"),this.slides=null,this.currentIndex=0,this.autoplayTimer=null,this.isAnimating=!1,this.config={autoplay:"true"===t.getAttribute("data-autoplay"),autoplaySpeed:parseInt(t.getAttribute("data-autoplay-speed"))||3e3,loop:"true"===t.getAttribute("data-loop"),endBehavior:t.getAttribute("data-end-behavior")||"loop",speed:parseInt(t.getAttribute("data-speed"))||500,slidesPerView:parseInt(t.getAttribute("data-slides-per-view"))||1,slidesPerViewTablet:parseInt(t.getAttribute("data-slides-per-view-tablet"))||1,slidesPerViewMobile:parseInt(t.getAttribute("data-slides-per-view-mobile"))||1,spaceBetween:parseInt(t.getAttribute("data-space-between"))||20,effect:t.getAttribute("data-effect")||"slide",slideWidthMode:t.getAttribute("data-slide-width-mode")||"auto",slideWidth:parseInt(t.getAttribute("data-slide-width"))||300},this.currentSlidesPerView=this.config.slidesPerView,this.breakpoints={mobile:768,tablet:1024},this.init()}init(){this.wrapper?(this.slides=Array.from(this.wrapper.children),0!==this.slides.length&&(this.setupSlides(),this.setupNavigation(),this.setupDots(),this.updateSlidePositions(),this.config.autoplay&&this.startAutoplay(),this.setupEventListeners())):console.warn("MAW Blocks: Slider wrapper not found")}setupSlides(){this.slides.forEach(t=>{t.classList.add("maw-slider__slide")}),"fade"===this.config.effect&&this.slides[0].classList.add("is-active"),this.updateResponsiveSettings(),this.applyCSSProperties()}setupNavigation(){const t=this.element.querySelector(".maw-slider__arrow--prev, .maw-testimonial-slider__arrow--prev"),e=this.element.querySelector(".maw-slider__arrow--next, .maw-testimonial-slider__arrow--next");t&&(t.addEventListener("click",()=>this.prev()),"custom"!==(this.element.getAttribute("data-arrow-icon")||"arrow")&&this.updateArrowHTML(t,"left")),e&&(e.addEventListener("click",()=>this.next()),"custom"!==(this.element.getAttribute("data-arrow-icon")||"arrow")&&this.updateArrowHTML(e,"right")),this.updateNavigationState()}updateArrowHTML(i,s){const r=((i="arrow")=>"custom"===i&&void 0!==window.mawBlocksArrows?window.mawBlocksArrows:t[i]||e)(this.element.getAttribute("data-arrow-icon")||"arrow"),n=i.querySelector('span[aria-hidden="true"]');n&&r[s]&&(n.innerHTML=r[s])}setupDots(){const t=this.element.querySelector(".maw-slider__dots, .maw-testimonial-slider__dots");t&&(t.innerHTML="",this.slides.forEach((e,i)=>{const s=document.createElement("span");s.className=0===i?"maw-slider__dot maw-slider__dot--active":"maw-slider__dot",s.addEventListener("click",()=>this.goTo(i)),t.appendChild(s)}))}updateSlidePositions(){if("fade"!==this.config.effect)if("fixed"===this.config.slideWidthMode){const t=this.config.slideWidth,e=this.config.spaceBetween,i=-this.currentIndex*(t+e);this.wrapper.style.transform=`translateX(${i}px)`}else{const t=this.slides[0];if(t){const e=t.offsetWidth,i=this.config.spaceBetween,s=-this.currentIndex*(e+i);this.wrapper.style.transform=`translateX(${s}px)`}}}updateDots(){this.element.querySelectorAll(".maw-slider__dot, .maw-testimonial-slider__dot").forEach((t,e)=>{e===this.currentIndex?t.classList.add("maw-slider__dot--active"):t.classList.remove("maw-slider__dot--active")})}updateNavigationState(){const t=this.element.querySelector(".maw-slider__arrow--prev, .maw-testimonial-slider__arrow--prev"),e=this.element.querySelector(".maw-slider__arrow--next, .maw-testimonial-slider__arrow--next");if(t&&e){const i=this.slides.length-this.currentSlidesPerView;"disable"===this.config.endBehavior?(t.disabled=0===this.currentIndex,e.disabled=this.currentIndex>=i):(t.disabled=!1,e.disabled=!1)}}next(){if(this.isAnimating)return;const t=this.slides.length-this.currentSlidesPerView;this.currentIndex<t?this.goTo(this.currentIndex+1):"loop"===this.config.endBehavior&&this.config.loop&&this.goTo(0)}prev(){this.isAnimating||(this.currentIndex>0?this.goTo(this.currentIndex-1):"loop"===this.config.endBehavior&&this.config.loop&&this.goTo(this.slides.length-this.currentSlidesPerView))}goTo(t){if(this.isAnimating||t===this.currentIndex)return;this.isAnimating=!0;const e=this.currentIndex;this.currentIndex=Math.max(0,Math.min(t,this.slides.length-1)),"fade"===this.config.effect?(this.slides[e].classList.remove("is-active"),this.slides[this.currentIndex].classList.add("is-active")):this.updateSlidePositions(),this.updateDots(),this.updateNavigationState(),setTimeout(()=>{this.isAnimating=!1},this.config.speed),this.config.autoplay&&this.resetAutoplay()}startAutoplay(){this.autoplayTimer=setInterval(()=>{this.next()},this.config.autoplaySpeed)}stopAutoplay(){this.autoplayTimer&&(clearInterval(this.autoplayTimer),this.autoplayTimer=null)}resetAutoplay(){this.stopAutoplay(),this.startAutoplay()}setupEventListeners(){let t;this.element.addEventListener("mouseenter",()=>{this.config.autoplay&&this.stopAutoplay()}),this.element.addEventListener("mouseleave",()=>{this.config.autoplay&&this.startAutoplay()}),window.addEventListener("resize",()=>{clearTimeout(t),t=setTimeout(()=>{this.updateResponsiveSettings(),this.applyCSSProperties(),this.updateSlidePositions(),this.updateNavigationState()},150)})}updateResponsiveSettings(){const t=window.innerWidth;if("fixed"===this.config.slideWidthMode){const t=this.wrapper.offsetWidth||this.element.offsetWidth,e=this.config.slideWidth,i=this.config.spaceBetween;this.currentSlidesPerView=Math.max(1,Math.floor((t+i)/(e+i)))}else t<this.breakpoints.mobile?this.currentSlidesPerView=this.config.slidesPerViewMobile:t<this.breakpoints.tablet?this.currentSlidesPerView=this.config.slidesPerViewTablet:this.currentSlidesPerView=this.config.slidesPerView;const e=this.slides.length-this.currentSlidesPerView;this.currentIndex>e&&(this.currentIndex=Math.max(0,e))}applyCSSProperties(){this.element.style.setProperty("--maw-slides-per-view",this.currentSlidesPerView),this.element.style.setProperty("--maw-slide-gap",`${this.config.spaceBetween}px`),this.element.style.setProperty("--maw-transition-speed",`${this.config.speed}ms`),"fixed"===this.config.slideWidthMode&&this.element.style.setProperty("--maw-slide-width",`${this.config.slideWidth}px`)}destroy(){this.stopAutoplay(),this.element=null,this.wrapper=null,this.slides=null}}new class{constructor(){this.sliderController=null,this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.onReady()):this.onReady()}onReady(){this.sliderController=new i,document.querySelectorAll(".maw-testimonial-slider").forEach(t=>{this.sliderController.init(t)})}}})();