(()=>{var e={942:(e,t)=>{var o;!function(){"use strict";var l={}.hasOwnProperty;function a(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=n(e,r(o)))}return e}function r(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return a.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)l.call(e,o)&&e[o]&&(t=n(t,o));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()}},t={};function o(l){var a=t[l];if(void 0!==a)return a.exports;var r=t[l]={exports:{}};return e[l](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.React,t=window.wp.blocks,l=window.wp.i18n,a=window.wp.blockEditor,r=window.wp.components;var n=o(942),i=o.n(n);const c=(e,t={})=>{const o=`maw-${e}`,l={[o]:!0};return Object.keys(t).forEach(e=>{t[e]&&(l[`${o}--${e}`]=!0)}),i()(l)},s=(e,t,o={})=>{const l=`maw-${e}__${t}`,a={[l]:!0};return Object.keys(o).forEach(e=>{o[e]&&(a[`${l}--${e}`]=!0)}),i()(a)},d=JSON.parse('{"$schema":"https://schemas.wp.org/trunk/block.json","apiVersion":3,"name":"maw-blocks/video","version":"1.0.0","title":"MAW Video","category":"maw-blocks","icon":"video-alt3","description":"Viewport-aware video player with autoplay on scroll","keywords":["video","media","autoplay","viewport"],"textdomain":"maw-blocks","editorScript":"file:../../build/blocks/video/index.js","editorStyle":"file:../../build/blocks/video/editor.css","style":"file:../../build/blocks/video/style-style.css","viewScript":"maw-blocks-video-view","attributes":{"videoUrl":{"type":"string","default":""},"videoId":{"type":"number"},"posterUrl":{"type":"string","default":""},"posterId":{"type":"number"},"autoplay":{"type":"boolean","default":true},"loop":{"type":"boolean","default":true},"muted":{"type":"boolean","default":true},"controls":{"type":"boolean","default":false},"playOnce":{"type":"boolean","default":false},"aspectRatio":{"type":"string","default":"16:9"}},"supports":{"html":false,"anchor":true,"customClassName":true,"spacing":{"margin":true,"padding":true}}}'),p=(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},(0,e.createElement)("path",{fill:"#9333ea",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"}),(0,e.createElement)("path",{fill:"#9333ea",d:"M9 8l6 4-6 4z"}));(0,t.registerBlockType)(d.name,{...d,icon:p,edit:function({attributes:t,setAttributes:o}){const{videoUrl:n,videoId:i,posterUrl:s,posterId:d,autoplay:p,loop:m,muted:u,controls:v,playOnce:b,aspectRatio:w}=t,y=(0,a.useBlockProps)({className:c("video",{"has-video":n,"has-poster":s}),"data-block-version":"1.0.0"});return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(r.PanelBody,{title:(0,l.__)("Video Settings","maw-blocks"),initialOpen:!0},(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Autoplay on Viewport","maw-blocks"),help:(0,l.__)("Play video when it enters the viewport","maw-blocks"),checked:p,onChange:e=>o({autoplay:e})}),p&&(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Play Once","maw-blocks"),help:(0,l.__)("Play video only once (not on every scroll)","maw-blocks"),checked:b,onChange:e=>o({playOnce:e})}),(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Loop","maw-blocks"),checked:m,onChange:e=>o({loop:e})}),(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Muted","maw-blocks"),help:(0,l.__)("Recommended for autoplay","maw-blocks"),checked:u,onChange:e=>o({muted:e})}),(0,e.createElement)(r.ToggleControl,{label:(0,l.__)("Show Controls","maw-blocks"),checked:v,onChange:e=>o({controls:e})}),(0,e.createElement)(r.SelectControl,{label:(0,l.__)("Aspect Ratio","maw-blocks"),value:w,options:[{label:"16:9",value:"16:9"},{label:"4:3",value:"4:3"},{label:"1:1",value:"1:1"},{label:"9:16",value:"9:16"}],onChange:e=>o({aspectRatio:e})})),(0,e.createElement)(r.PanelBody,{title:(0,l.__)("Poster Image","maw-blocks"),initialOpen:!1},(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:e=>{o({posterUrl:e.url,posterId:e.id})},allowedTypes:["image"],value:d,render:({open:t})=>(0,e.createElement)(r.Button,{onClick:t,variant:"secondary",style:{marginBottom:"10px",width:"100%"}},s?(0,l.__)("Change Poster","maw-blocks"):(0,l.__)("Select Poster","maw-blocks"))})),s&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("img",{src:s,alt:"",style:{maxWidth:"100%",marginBottom:"10px"}}),(0,e.createElement)(r.Button,{onClick:()=>o({posterUrl:"",posterId:null}),variant:"link",isDestructive:!0},(0,l.__)("Remove Poster","maw-blocks"))))),(0,e.createElement)("div",{...y},n?(0,e.createElement)("div",{className:"maw-video__wrapper"},(0,e.createElement)("video",{className:"maw-video__element",src:n,poster:s,controls:v,loop:m,muted:u,playsInline:!0}),(0,e.createElement)(r.Button,{onClick:()=>o({videoUrl:"",videoId:null}),variant:"link",isDestructive:!0,style:{marginTop:"10px"}},(0,l.__)("Remove Video","maw-blocks")),(0,e.createElement)("div",{style:{marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #ddd"}},(0,e.createElement)(r.TextControl,{label:(0,l.__)("Or enter video URL manually","maw-blocks"),value:n,onChange:e=>o({videoUrl:e,videoId:null}),placeholder:"https://example.com/video.mp4 or {{mpg_video_url}}",help:(0,l.__)("Supports MPG variables for dynamic content","maw-blocks")}))):(0,e.createElement)("div",null,(0,e.createElement)(a.MediaUploadCheck,null,(0,e.createElement)(a.MediaUpload,{onSelect:e=>{o({videoUrl:e.url,videoId:e.id})},allowedTypes:["video"],value:i,render:({open:t})=>(0,e.createElement)("div",{className:"maw-video__placeholder"},(0,e.createElement)(r.Button,{onClick:t,variant:"primary"},(0,l.__)("Select Video","maw-blocks")))})),(0,e.createElement)("div",{style:{marginTop:"15px",paddingTop:"15px",borderTop:"1px solid #ddd"}},(0,e.createElement)(r.TextControl,{label:(0,l.__)("Or enter video URL manually","maw-blocks"),value:n,onChange:e=>o({videoUrl:e,videoId:null}),placeholder:"https://example.com/video.mp4 or {{mpg_video_url}}",help:(0,l.__)("Supports MPG variables for dynamic content","maw-blocks")})))))},save:function({attributes:t}){const{videoUrl:o,posterUrl:l,autoplay:r,loop:n,muted:i,controls:d,playOnce:p,aspectRatio:m}=t;if(!o)return null;const u=a.useBlockProps.save({className:c("video",{"has-poster":l,[`aspect-${m.replace(":","-")}`]:m}),"data-autoplay":r,"data-play-once":p});return(0,e.createElement)("div",{...u},(0,e.createElement)("div",{className:s("video","wrapper")},(0,e.createElement)("video",{className:s("video","element"),src:o,poster:l||void 0,loop:n,muted:i,controls:d,playsInline:!0,preload:"metadata"})))}})})()})();