(()=>{"use strict";class e{constructor(e={}){this.options={threshold:e.threshold||.5,rootMargin:e.rootMargin||"0px"},this.observer=null,this.callbacks=new WeakMap,this.createObserver()}createObserver(){"IntersectionObserver"in window?this.observer=new IntersectionObserver(e=>{e.forEach(e=>{const t=this.callbacks.get(e.target);t&&t(e.isIntersecting,e)})},this.options):console.warn("MAW Blocks: IntersectionObserver not supported")}observe(e,t){this.observer&&(this.callbacks.set(e,t),this.observer.observe(e))}unobserve(e){this.observer&&(this.callbacks.delete(e),this.observer.unobserve(e))}disconnect(){this.observer&&(this.observer.disconnect(),this.callbacks=new WeakMap)}}new class{constructor(){this.viewportObserver=null,this.init()}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.onReady()):this.onReady()}onReady(){this.viewportObserver=new e,this.initVideos()}initVideos(){document.querySelectorAll('.maw-video[data-autoplay="true"] video').forEach(e=>{const t=e.closest(".maw-video"),s="true"===t.getAttribute("data-play-once");let r=!1;this.viewportObserver.observe(t,t=>{t?s&&r||(e.play().catch(e=>{console.warn("MAW Blocks: Video autoplay failed",e)}),r=!0):e.pause()})})}}})();